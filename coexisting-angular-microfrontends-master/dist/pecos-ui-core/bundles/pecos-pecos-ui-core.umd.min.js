!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http"),require("rxjs/operators"),require("@okta/okta-angular"),require("@angular/router"),require("@angular/common"),require("@angular/forms"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@pecos/pecos-ui-core",["exports","@angular/core","rxjs","@angular/common/http","rxjs/operators","@okta/okta-angular","@angular/router","@angular/common","@angular/forms","@angular/platform-browser"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).pecos=e.pecos||{},e.pecos["pecos-ui-core"]={}),e.ng.core,e.rxjs,e.ng.common.http,e.rxjs.operators,e["@okta/okta-angular"],e.ng.router,e.ng.common,e.ng.forms,e.ng.platformBrowser)}(this,(function(e,t,n,r,i,o,a,s,c,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function d(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}Object.create;var v=function(){var e=crypto.getRandomValues(new Uint8Array(16));return e[6]=15&e[6]|64,e[8]=63&e[8]|128,e.reduce((function(e,t,n){return e+=t.toString(16),/^(3|5|7)$/.test(n.toString(10))&&(e+="-"),e}),"")},y=function(){function e(e){this.http=e,this.apiURL="/api",this.excludedStatusCodes=[400,401,500,504],this.maxRetries=2,this.requestIndex=0,this.uniqueId=v(),this.headers={}}return e.prototype.handleError=function(e){return e.error instanceof ErrorEvent?console.error("Frontend error: "+e.error.message):console.error("Backend error: "+e.status+", "+e.error),n.throwError("Something bad happened; please try again later.")},e.prototype.api=function(e,t,o){o||(o=t?"POST":"GET");var a=this.uniqueId+"-"+ ++this.requestIndex,s=this.http.request(o,this.apiURL+e,{headers:new r.HttpHeaders(this.headers).append("x-correlation-id",a),body:t}),c=this.excludedStatusCodes,u=this.maxRetries;return s.pipe(i.retryWhen(i.mergeMap((function(e,t){return t+1>u||c.includes(e.status)?n.throwError(e):n.timer(1e3)}))),i.catchError(this.handleError))},e.prototype.mock=function(e){return this.http.get("assets/mock/"+e+".json?ds")},e}();y.ɵfac=function(e){return new(e||y)(t.ɵɵinject(r.HttpClient))},y.ɵprov=t.ɵɵdefineInjectable({token:y,factory:y.ɵfac,providedIn:"root"});var g=function(){function e(e,t,r){var i=this;this.dataService=e,this.oktaAuth=t,this.router=r,this._activityId="",this._state=new n.BehaviorSubject(!1),this.state=this._state.asObservable(),this._storageKey="pecos-cache",this._waitForState=!1,this._user=this.cache,this.user.role&&(this._waitForState=!0,this.onProviderStateChange(!0)),this.oktaAuth.$authenticationState.subscribe((function(e){i.onOktaAuthStateChange(e)}))}return Object.defineProperty(e.prototype,"cache",{get:function(){return JSON.parse(localStorage.getItem(this._storageKey)||"{}")},set:function(e){localStorage.setItem(this._storageKey,JSON.stringify(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!1,configurable:!0}),e.prototype.authAPI=function(e,t){return void 0===e&&(e=""),this.dataService.api("/authentication/"+e,t).toPromise()},e.prototype.isAuthenticated=function(){return d(this,void 0,void 0,(function(){var e,t=this;return f(this,(function(n){switch(n.label){case 0:return this._waitForState?[2,new Promise((function(e){var n=function(){t._waitForState||e(t._state.getValue()),setTimeout(n,100)};n()}))]:[3,1];case 1:return(e=this._state.getValue())?[3,3]:[4,this.oktaAuth.isAuthenticated()];case 2:e=n.sent(),n.label=3;case 3:return[2,e]}}))}))},e.prototype.loginRedirect=function(){window.location.href="/login"},e.prototype.login=function(e){return void 0===e&&(e={}),d(this,void 0,void 0,(function(){var t,n,r,i;return f(this,(function(o){switch(o.label){case 0:return t=e.cookieId,n=e.role,r=e.token,i=e.username,n||(n=/^p/.test(i)?"Provider":"CMS"),this.cache={role:n,token:r,username:i,cookieId:t},this._user={role:n,username:i},[4,this.onProviderStateChange(!0)];case 1:return o.sent(),this.router.navigateByUrl("/"),[2]}}))}))},e.prototype.logout=function(){return d(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return this._user={},localStorage.removeItem(this._storageKey),[4,this.oktaAuth.isAuthenticated()];case 1:return e.sent()?[4,this.onOktaAuthStateChange(!1)]:[3,3];case 2:return e.sent(),this.oktaAuth.signOut().catch(console.error),[3,5];case 3:return[4,this.onProviderStateChange(!1)];case 4:e.sent(),this.loginRedirect(),e.label=5;case 5:return[2]}}))}))},e.prototype.onOktaAuthStateChange=function(e){return d(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return e?[4,this.setAuthHeaders(!0)]:[3,3];case 1:return n.sent(),this._user.role="CMS",[4,this.oktaAuth.getUser()];case 2:return t=n.sent(),Object.assign(this._user,{firstName:t.given_name,lastName:t.family_name,username:t.name,info:t}),this._state.next(!0),this.updateActivity(!0),[3,5];case 3:return this.cache.role?[3,5]:(this.updateActivity(!1),[4,this.setAuthHeaders(!1)]);case 4:n.sent(),this._user={},this._state.next(!1),n.label=5;case 5:return[2]}}))}))},e.prototype.onProviderStateChange=function(e){return d(this,void 0,void 0,(function(){var t,n,r,i;return f(this,(function(o){switch(o.label){case 0:return e?[4,this.setAuthHeaders()]:[3,3];case 1:return o.sent(),[4,this.authAPI("loggedInUserDetails")];case 2:return t=o.sent(),n=t.firstName,r=t.lastName,i=t.username,Object.assign(this._user,{firstName:n,lastName:r,username:i,info:t}),this._state.next(!0),this._waitForState=!1,this.updateActivity(!0),[3,5];case 3:return this.updateActivity(!1),[4,this.setAuthHeaders()];case 4:o.sent(),this._state.next(!1),o.label=5;case 5:return[2]}}))}))},e.prototype.setAuthHeaders=function(e){return d(this,void 0,void 0,(function(){var t,n,r,i,o,a;return f(this,(function(s){switch(s.label){case 0:switch(delete(t=this.dataService.headers).Authorization,delete t.PecosTokenType,n=this.cache,r=n.role,i=n.token,o=n.username,r){case"Provider":return[3,1];case"CMS":return[3,2]}return[3,3];case 1:return i?(t.Authorization="Bearer "+i.access_token,t.PecosTokenType="PROVIDER_AUTH_TOKEN"):(t.Authorization=o,t.PecosTokenType="FAKE_PROVIDER_AUTH_TOKEN"),[3,5];case 2:return t.Authorization="CMS",t.PecosTokenType="FAKE_MAC_AUTH_TOKEN",[3,5];case 3:return e?[4,this.oktaAuth.tokenManager.get("idToken")]:[3,5];case 4:a=s.sent(),t.Authorization="Bearer "+a.value,t.PecosTokenType="MAC_AUTH_TOKEN",s.label=5;case 5:return[2]}}))}))},e.prototype.updateActivity=function(e){return d(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:t=this._activityId,r.label=1;case 1:return r.trys.push([1,6,,7]),e?(n=this,[4,this.authAPI("loginActivity",{})]):[3,3];case 2:return n._activityId=r.sent(),[3,5];case 3:return t?[4,this.authAPI("logoutActivity?activityLogId="+t,{})]:[3,5];case 4:r.sent(),r.label=5;case 5:return[3,7];case 6:return r.sent(),[3,7];case 7:return[2]}}))}))},e}();g.ɵfac=function(e){return new(e||g)(t.ɵɵinject(y),t.ɵɵinject(o.OktaAuthService),t.ɵɵinject(a.Router))},g.ɵprov=t.ɵɵdefineInjectable({token:g,factory:g.ɵfac,providedIn:"root"});var _=function(){function e(e){this.auth=e}return e.prototype.canActivate=function(e,t){return d(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this.auth.isAuthenticated()];case 1:return(t=n.sent()&&this.isValidRole(e))||this.auth.loginRedirect(),[2,t]}}))}))},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.prototype.isValidRole=function(e){var t=this.auth.user.role,n=e.data.roles;return t&&(!n||n.includes(t))},e}();_.ɵfac=function(e){return new(e||_)(t.ɵɵinject(g))},_.ɵprov=t.ɵɵdefineInjectable({token:_,factory:_.ɵfac});var b=function(){};b.ɵmod=t.ɵɵdefineNgModule({type:b}),b.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||b)},providers:[_,{provide:o.OKTA_CONFIG,useFactory:function(){var e={clientId:"0oa6tmw4miQat1NYq297",issuer:"https://test.idp.idm.cms.gov/oauth2/aus6tmyyb6L0OyTyk297",postLogoutRedirectUri:location.origin,redirectUri:location.origin+"/login/cms",scopes:["email","openid","profile"],tokenManager:{autoRenew:!0}};return/impl/.test(location.host)&&Object.assign(e,{clientId:"0oa7qkhh76WNK5c1V297",issuer:"https://impl.idp.idm.cms.gov/oauth2/aus7qki1fpUtKDSfi297"}),/^idp|beta/.test(location.host)&&Object.assign(e,{clientId:"0oa8yvyzjuTQUZudp297",issuer:"https://idm.cms.gov/oauth2/aus8yw3rdypeR9sdd297"}),e}}],imports:[[o.OktaAuthModule,a.RouterModule.forRoot([])],a.RouterModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(b,{imports:[o.OktaAuthModule,a.RouterModule],exports:[a.RouterModule]});var x=[{href:"/dashboard",icon:"home",text:"Home"},{href:"/workqueue",icon:"work-queue",role:["CMS"],text:"Work Queue"},{href:"/reports",icon:"reports",role:["CMS"],text:"Reports"},{href:"/search",icon:"search",role:["CMS"],text:"Search"},{href:"/search",icon:"my-connections",role:["Provider"],text:"My Connections"},{href:"/examples",icon:"help",text:"Knowledge Base"}],C=[{text:"Accessibility"},{text:"CMS.gov",href:"https://www.cms.gov/"},{text:"Department of Health and Human Services (HHS)",href:"https://www.cms.gov/"},{text:"Agreements & Policies",href:"https://www.cms.gov/about-cms/agency-information/aboutwebsite"},{text:"How to Use this Site",tooltip:"Knowledge Base to be developed"},{text:"Contact",tooltip:"Knowledge Base to be developed"}];function S(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"form",14,15),t.ɵɵelementStart(2,"input",16),t.ɵɵlistener("keyup.enter",(function(){return t.ɵɵrestoreView(r),t.ɵɵreference(1).submit()})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵpropertyInterpolate("placeholder",i.search)}}function w(e,n){1&e&&t.ɵɵelementContainer(0)}function k(e,n){1&e&&t.ɵɵelementContainer(0)}var T=function(e){return{links:e}};function I(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"aside",17),t.ɵɵelementStart(1,"button",18),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(r);var e=t.ɵɵnextContext();return e.sideNavExpanded=!e.sideNavExpanded})),t.ɵɵelement(2,"img",19),t.ɵɵelement(3,"img",20),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"nav",21),t.ɵɵtemplate(5,k,1,0,"ng-container",8),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext(),o=t.ɵɵreference(16);t.ɵɵclassProp("pecos-ui__aside--collapsed",!i.sideNavExpanded)("pecos-ui__aside--expanded",i.sideNavExpanded),t.ɵɵadvance(1),t.ɵɵattribute("aria-expanded",i.sideNavExpanded),t.ɵɵadvance(1),t.ɵɵclassProp("d-none",i.sideNavExpanded),t.ɵɵpropertyInterpolate1("src","",i.iconsPath,"icon-expand.svg",t.ɵɵsanitizeUrl),t.ɵɵadvance(1),t.ɵɵclassProp("d-none",!i.sideNavExpanded),t.ɵɵpropertyInterpolate1("src","",i.iconsPath,"icon-collapse.svg",t.ɵɵsanitizeUrl),t.ɵɵadvance(2),t.ɵɵproperty("ngTemplateOutlet",o)("ngTemplateOutletContext",t.ɵɵpureFunction1(13,T,i.sideLinks))}}function A(e,n){1&e&&t.ɵɵelementContainer(0)}function P(e,n){if(1&e&&(t.ɵɵelementStart(0,"footer",22),t.ɵɵelementStart(1,"nav",23),t.ɵɵtemplate(2,A,1,0,"ng-container",8),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext(),i=t.ɵɵreference(16);t.ɵɵadvance(2),t.ɵɵproperty("ngTemplateOutlet",i)("ngTemplateOutletContext",t.ɵɵpureFunction1(2,T,r.footerLinks))}}function O(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",26),t.ɵɵelement(1,"img",27),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext().link,i=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵpropertyInterpolate2("src","",i.iconsPath,"icon-",r.icon,".svg",t.ɵɵsanitizeUrl)}}function E(e,n){if(1&e&&(t.ɵɵtemplate(0,O,2,2,"span",24),t.ɵɵelement(1,"span",25)),2&e){var r=n.link,i=t.ɵɵnextContext();t.ɵɵproperty("ngIf",r.icon),t.ɵɵadvance(1),t.ɵɵproperty("innerHTML",r.text.replace("%user%",i.user.lastName?i.user.lastName+", "+i.user.firstName:i.user.username),t.ɵɵsanitizeHtml)}}function M(e,n){1&e&&t.ɵɵelementContainer(0)}function R(e,n){1&e&&t.ɵɵelementContainer(0)}var N=function(e){return{link:e}};function j(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"button",34),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(r);var e=t.ɵɵnextContext(2).$implicit;return t.ɵɵnextContext(2).toggle(e)})),t.ɵɵtemplate(2,M,1,0,"ng-container",8),t.ɵɵelementEnd(),t.ɵɵtemplate(3,R,1,0,"ng-container",8),t.ɵɵelementContainerEnd()}if(2&e){var i=t.ɵɵnextContext(2).$implicit;t.ɵɵnextContext(2);var o=t.ɵɵreference(14),a=t.ɵɵreference(16);t.ɵɵadvance(1),t.ɵɵattribute("aria-expanded",!!i.expanded),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",o)("ngTemplateOutletContext",t.ɵɵpureFunction1(5,N,i)),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",a)("ngTemplateOutletContext",t.ɵɵpureFunction1(7,T,i.children))}}function F(e,n){1&e&&t.ɵɵelementContainer(0)}function L(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",35),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(r);var n=t.ɵɵnextContext(2).$implicit;return t.ɵɵnextContext(2).onClick(n,e)})),t.ɵɵtemplate(1,F,1,0,"ng-container",8),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext(2).$implicit;t.ɵɵnextContext(2);var o=t.ɵɵreference(14);t.ɵɵproperty("href",i.href||"#",t.ɵɵsanitizeUrl),t.ɵɵattribute("rel",null!=i.href&&i.href.startsWith("http")?"noopener noreferrer":null)("target",null!=i.href&&i.href.startsWith("http")?"_blank":null),t.ɵɵadvance(1),t.ɵɵproperty("ngTemplateOutlet",o)("ngTemplateOutletContext",t.ɵɵpureFunction1(5,N,i))}}function D(e,n){if(1&e&&(t.ɵɵelementStart(0,"li",31),t.ɵɵtext(1),t.ɵɵtemplate(2,j,4,9,"ng-container",32),t.ɵɵtemplate(3,L,2,7,"a",33),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",r.roles," "),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.children),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!r.children)}}function U(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,D,4,3,"li",30),t.ɵɵelementContainerEnd()),2&e){var r=n.$implicit,i=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!r.role||r.role.includes(i.user.role)||0===r.role.length&&!i.user.role)}}function H(e,n){if(1&e&&(t.ɵɵelementStart(0,"ul",28),t.ɵɵtemplate(1,U,2,1,"ng-container",29),t.ɵɵelementEnd()),2&e){var r=n.links;t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r)}}var B=function(){function e(e){this.auth=e,this.footerLinks=C,this.headerLinks=function(e){void 0===e&&(e=!1);var t=[{text:"About",role:[]},{text:"Helpful Links",role:[]},{text:"Knowledge Base",role:[]},{text:"Quick References",role:["CMS","Provider"],children:[{text:"Frequently Asked Questions"},{text:"User Guide"},{text:"Quick Reference"}]},{icon:"user",text:"%user%",role:["CMS","Provider"],children:[{text:"View Authorizations"},{text:"Logout",href:"/logout"}]}];return e&&t.push({text:"Emulate",role:[],children:[{text:"mac",emulate:{username:"mac-user",role:"CMS"}},{text:"pecos2test1",emulate:{username:"pecos2test2",role:"Provider"}},{text:"pecos2test2",emulate:{username:"pecos2test2",role:"Provider"}},{text:"CMS/Mac Login",href:"/login/cms"}]}),t}(!/demo|impl/.test(location.host)),this.search="Search",this.sideLinks=x,this.sideNavExpanded=!1,this.iconsPath="/assets/icons/page-framework/",this.user=this.auth.user}return e.prototype.ngOnInit=function(){var e=this;this.auth.state.subscribe((function(){return e.user=e.auth.user}))},e.prototype.onDocumentClick=function(e){this._activeLink&&!e.closest('.pecos-ui__link[aria-expanded="true"]')&&(this._activeLink.expanded=!1)},e.prototype.onClick=function(e,t){"/logout"===e.href?(t.preventDefault(),this.auth.logout()):e.emulate&&(t.preventDefault(),this.auth.login(e.emulate))},e.prototype.toggle=function(e){this._activeLink&&this._activeLink!==e&&(this._activeLink.expanded=!1),e.expanded=!e.expanded,this._activeLink=e},e}();B.ɵfac=function(e){return new(e||B)(t.ɵɵdirectiveInject(g))},B.ɵcmp=t.ɵɵdefineComponent({type:B,selectors:[["pecos-ui"]],hostAttrs:[1,"pecos-ui"],hostBindings:function(e,n){1&e&&t.ɵɵlistener("click",(function(e){return n.onDocumentClick(e.target)}),!1,t.ɵɵresolveDocument)},inputs:{footerLinks:"footerLinks",headerLinks:"headerLinks",search:"search",sideLinks:"sideLinks",sideNavExpanded:"sideNavExpanded"},ngContentSelectors:["*"],decls:17,vars:8,consts:[[1,"pecos-ui__header"],[1,"pecos-ui__header__logo"],["href","/"],["alt","PECOS logo",3,"src"],[1,"pecos-ui__header__search"],["action","/search","class","pecos-ui__header__search__form","method","get",4,"ngIf"],[1,"pecos-ui__header__links"],["aria-label","main",1,"pecos-ui__nav"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","pecos-ui__aside",3,"pecos-ui__aside--collapsed","pecos-ui__aside--expanded",4,"ngIf"],["id","pecos-ui-main",1,"pecos-ui__main"],["class","pecos-ui__footer",4,"ngIf"],["linkTemplate",""],["listTemplate",""],["action","/search","method","get",1,"pecos-ui__header__search__form"],["searchForm",""],["aria-label","search site","name","q","type","search",1,"pecos-ui__header__search__input",3,"placeholder","keyup.enter"],[1,"pecos-ui__aside"],["aria-controls","pecos-ui-site-nav","aria-label","site navigation section",1,"pecos-ui__aside__toggle",3,"click"],["alt","expand",1,"pecos-ui__icon__expand",3,"src"],["alt","collapse",1,"pecos-ui__icon__collapse",3,"src"],["aria-label","site","id","pecos-ui-site-nav",1,"pecos-ui__nav"],[1,"pecos-ui__footer"],["aria-label","footer",1,"pecos-ui__nav"],["class","pecos-ui__link__icon",4,"ngIf"],[1,"pecos-ui__link__text",3,"innerHTML"],[1,"pecos-ui__link__icon"],["alt","",3,"src"],[1,"pecos-ui__list"],[4,"ngFor","ngForOf"],["class","pecos-ui__list__item",4,"ngIf"],[1,"pecos-ui__list__item"],[4,"ngIf"],["class","pecos-ui__link",3,"href","click",4,"ngIf"],["type","button",1,"pecos-ui__link",3,"click"],[1,"pecos-ui__link",3,"href","click"]],template:function(e,n){if(1&e&&(t.ɵɵprojectionDef(),t.ɵɵelementStart(0,"header",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"a",2),t.ɵɵelement(3,"img",3),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",4),t.ɵɵtemplate(5,S,3,1,"form",5),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",6),t.ɵɵelementStart(7,"nav",7),t.ɵɵtemplate(8,w,1,0,"ng-container",8),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵtemplate(9,I,6,15,"aside",9),t.ɵɵelementStart(10,"main",10),t.ɵɵprojection(11),t.ɵɵelementEnd(),t.ɵɵtemplate(12,P,3,4,"footer",11),t.ɵɵtemplate(13,E,2,2,"ng-template",null,12,t.ɵɵtemplateRefExtractor),t.ɵɵtemplate(15,H,2,1,"ng-template",null,13,t.ɵɵtemplateRefExtractor)),2&e){var r=t.ɵɵreference(16);t.ɵɵadvance(3),t.ɵɵpropertyInterpolate1("src","",n.iconsPath,"icon-pecos-logo.svg",t.ɵɵsanitizeUrl),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.user.role),t.ɵɵadvance(3),t.ɵɵproperty("ngTemplateOutlet",r)("ngTemplateOutletContext",t.ɵɵpureFunction1(6,T,n.headerLinks)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.sideLinks.length),t.ɵɵadvance(3),t.ɵɵproperty("ngIf",n.footerLinks.length)}},directives:[s.NgIf,s.NgTemplateOutlet,c.ɵangular_packages_forms_forms_y,c.NgControlStatusGroup,c.NgForm,s.NgForOf],encapsulation:2});var V=function(){function e(){}return e.prototype.transform=function(e){var t=e;return t&&t.length>5?t.includes("-")?t:t.substr(0,5)+"-"+t.substr(5):t},e}();V.ɵfac=function(e){return new(e||V)},V.ɵpipe=t.ɵɵdefinePipe({name:"zipCode",type:V,pure:!0});var q=function(){function e(){}return e.prototype.transform=function(e,t,n,r,i){if(void 0===t&&(t=!1),void 0===n&&(n=!0),void 0===r&&(r="default"),void 0===i&&(i="-"),!e)return i;var o=e.addressLine1||e.addrLine1||e.street1||"",a=e.addressLine2||e.addrLine2||e.street2||"",c=e.city||e.cityName||"",u=e.state||e.stateCd||e.stateCode||e.addressStateCode||"",l=e.zip||e.zipCd||e.zipCode||e.zipcode||"";if(""===(o+a+c+u+l).trim())return i;if(l&&(l=(new V).transform(l)),!0===n){var p=new s.TitleCasePipe;o=p.transform(o),a=p.transform(a),c=p.transform(c)}var d="usps"===r,f=[o];if(a&&f.push(a),t){var h="";return(o||a)&&(h+=f.join(d?" ":"<br>")+"<br>"),c&&(h+=c),c&&(u||l)&&(h+=", "),u&&(h+=u),h.length&&(h+="<br>"),l&&(h+=l),"<address>"+h+"</address>"}return[f.join(" "),c,u,l].map((function(e){return e.trim()})).filter((function(e){return""!==e})).join(", ")},e}();q.ɵfac=function(e){return new(e||q)},q.ɵpipe=t.ɵɵdefinePipe({name:"address",type:q,pure:!0});var z="MM/dd/yyyy",K="yyyy-MM-dd",G=/\+0000$/,J=function(){function e(){this.datePipe=new s.DatePipe("en-US")}return e.prototype.transform=function(e,t,n){if(void 0===t&&(t="-"),null===e||!e||"-"===e)return t;if(e.includes("XX"))return e;var r=G.test(e)?"UTC":void 0;return this.datePipe.transform(e,n?K:z,r)},e}();J.ɵfac=function(e){return new(e||J)},J.ɵpipe=t.ɵɵdefinePipe({name:"dateFormat",type:J,pure:!0});var $=function(){function e(){}return e.prototype.transform=function(e){return null===e||""===e||void 0===e||" "===e?"-":e},e}();$.ɵfac=function(e){return new(e||$)},$.ɵpipe=t.ɵɵdefinePipe({name:"emptyDash",type:$,pure:!0});var X=function(e,t){switch(Object.prototype.toString.call(e).charAt(8)){case"O":return Object.values(e).some((function(e){return X(e,t)}));case"A":return e.some((function(e){return X(e,t)}));default:return t(e)}},Q=function(){function e(){}return e.prototype.transform=function(t,n){return e.filter(t,n)},e.filter=function(e,t){var n=t.toLowerCase(),r=function(e){return String(null!=e?e:"").toLowerCase().indexOf(n)>-1};return e.filter((function(e){return X(e,r)}))},e}();Q.ɵfac=function(e){return new(e||Q)},Q.ɵpipe=t.ɵɵdefinePipe({name:"filter",type:Q,pure:!0});var W=function(){function e(){}return e.prototype.transform=function(e,t){void 0===t&&(t="f m l s");var n=null!=e?e:{},r=n.firstName,i=n.lastName,o=n.middleName,a=n.middleInitial,s=void 0===a?(o||"").trim().charAt(0):a,c=n.suffix,u=void 0===c?"":c,l=(null!=u?u:"").trim().replace("N/A","");return t.replace(/f/g,"").replace(/l/g,"").replace(/mi/g,"").replace(/m/g,"").replace(/s/g,"").replace(/\u0001/g,null!=r?r:"").replace(/\u0002/g,null!=i?i:"").replace(/\u0003/g,null!=o?o:"").replace(/\u0004/g,null!=s?s:"").replace(/\u0005/g,null!=l?l:"").replace(/ {2,}/g," ").trim()},e}();W.ɵfac=function(e){return new(e||W)},W.ɵpipe=t.ɵɵdefinePipe({name:"fullName",type:W,pure:!0});var Z=function(){function e(e){this._sanitizer=e}return e.prototype.transform=function(e,t,n){if(!e)return"";if(!t||0===t.indexOf("*")||"-"===e||"search"!==n)return e;var r=t.trim(),i=e&&e.toString(),o=new RegExp(r,"gi"),a=i.replace(o,'<span style="background-color:#FFF3BD">$&</span>');return this._sanitizer.bypassSecurityTrustHtml(a)},e}();Z.ɵfac=function(e){return new(e||Z)(t.ɵɵdirectiveInject(u.DomSanitizer))},Z.ɵpipe=t.ɵɵdefinePipe({name:"highlightKeyword",type:Z,pure:!0});var Y=function(){function e(){}return e.prototype.transform=function(e){return e?(e=e.replace(/\D/g,"")).length<=10?"("+e.substr(0,3)+") "+e.substr(3,3)+"-"+e.substr(6):"("+e.substr(0,3)+") "+e.substr(3,3)+"-"+e.substr(6,4)+" ext "+e.substr(10):"-"},e}();Y.ɵfac=function(e){return new(e||Y)},Y.ɵpipe=t.ɵɵdefinePipe({name:"phoneNumber",type:Y,pure:!0});var ee=function(e){function t(){return e.call(this,"en-US")||this}return p(t,e),t.prototype.transform=function(t,n){if(void 0===n&&(n="-"),null===t)return n;var r=G.test(t)?"UTC":void 0;return e.prototype.transform.call(this,t,"shortTime",r)},t}(s.DatePipe);ee.ɵfac=function(e){return new(e||ee)},ee.ɵpipe=t.ɵɵdefinePipe({name:"timeFormat",type:ee,pure:!0});var te=function(e,t,n){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=0),t.replace(/#/g,(function(){return e[n++]||""}))},ne=function(){function e(){}return e.prototype.transform=function(e,t){var n=e.id,r=e.idType,i=void 0===r?"ein":r;void 0===t&&(t=!1);var o=String(null!=n?n:"").replace(/-/g,"");return""===o?"-":("ssn"===i?(t&&(o="XXXXX"+o.slice(-4)),o=te(o,"###-##-####")):o=te(o,"##-#######"),o)},e}();ne.ɵfac=function(e){return new(e||ne)},ne.ɵpipe=t.ɵɵdefinePipe({name:"TIN",type:ne,pure:!0});var re=function(e){function t(){return e.call(this)||this}return p(t,e),t.prototype.transform=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return null;for(var r=e.split(" "),i=0;i<r.length;i++){var o=r[i];i>0&&this.isAbbreviation(o)?r[i]=o.toUpperCase():r[i]=this.forSpecialCharacters(o)}return r.join(" ")},t.prototype.isAbbreviation=function(e){return["II","III","IV"].includes(e.toUpperCase())},t.prototype.forSpecialCharacters=function(e){return e.toLowerCase().replace(/(?:^|\s|\/|\-|\()\w/g,(function(e){return e.toUpperCase()}))},t}(s.TitleCasePipe);re.ɵfac=function(e){return new(e||re)},re.ɵpipe=t.ɵɵdefinePipe({name:"titleCaseExtended",type:re,pure:!0});var ie=function(){function e(){var e=this._element=document.createElement("div");e.className="sr-only",e.setAttribute("aria-live","polite"),e.setAttribute("role","status"),document.body.appendChild(e)}return e.prototype.announce=function(e){var t=this;this._element.textContent="",setTimeout((function(){t._element.textContent=e}),100)},e}();ie.ɵfac=function(e){return new(e||ie)},ie.ɵprov=t.ɵɵdefineInjectable({token:ie,factory:ie.ɵfac,providedIn:"root"});var oe=function(e){return function(t,n){return t[e]>n[e]?1:t[e]<n[e]?-1:0}},ae=function(){function e(e){this.dataService=e,this.cache={}}return e.prototype.api=function(e){return void 0===e&&(e="/referenceData"),this.dataService.api("/reference"+e).toPromise()},e.prototype.getByType=function(e){return d(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(t=this.cache[e])?[3,2]:[4,this.api("/referenceByType/"+e)];case 1:n=r.sent(),(t=n._embedded.codeReferenceDTOList).sort(oe("value")),this.cache[e]=t,r.label=2;case 2:return[2,m(t)];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.getDocumentTypeByCategory=function(e){return d(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),(t=this.cache[e])?[3,2]:[4,this.api("/reference/documentType/"+(e||""))];case 1:n=r.sent(),(t=n).sort(oe("code")),this.cache[e]=t,r.label=2;case 2:return[2,m(t)];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.getDocumentCategories=function(){return this.getByType("Document Category")},e.prototype.getCountries=function(){return this.getByType("Country Code")},e.prototype.getEvents=function(){return this.getByType("event")},e.prototype.getEventsByReferenceType=function(e){return this.getByType("event/"+e)},e.prototype.getFlagTypes=function(){return d(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(e=this.cache.flagTypes)?[3,2]:[4,this.api("/flagTypes")];case 1:t=n.sent(),(e=t._embedded.pecosFlagReferenceDTOList).sort(oe("label")),this.cache.flagTypes=e,n.label=2;case 2:return[2,m(e)];case 3:return n.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.getLineOfBusinessInfo=function(e){return d(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c;return f(this,(function(u){switch(u.label){case 0:if(t=e.formType,n=e.physicianInd,r=void 0===n?"":n,i=e.specialtyCode,o=void 0===i?"":i,!t)throw new Error("formType must be supplied.");a=m(["lob"],Object.values(e)).join("-"),u.label=1;case 1:return u.trys.push([1,4,,5]),(s=this.cache[a])?[3,3]:(c="physicianInd="+r+"&specialtyCode="+o,[4,this.api("/getFormLineOfBusinessInfo/"+t+"?"+c)]);case 2:s=u.sent(),this.cache[a]=s,u.label=3;case 3:return[2,s];case 4:return u.sent(),[2,null];case 5:return[2]}}))}))},e.prototype.getMacGroups=function(){return d(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(e=this.cache.macGroups)?[3,2]:[4,this.api("/macGroups")];case 1:t=n.sent(),(e=t._embedded.contractorGroupDTOList).sort(oe("value")),this.cache.macGroups=e,n.label=2;case 2:return[2,m(e)];case 3:return n.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.getNameSuffixes=function(){return d(this,void 0,void 0,(function(){var e;return f(this,(function(t){try{return(e=this.cache.nameSuffixes)||(e=[{code:"JR",value:"Jr."},{code:"SR",value:"Sr."},{code:"II",value:"II"},{code:"III",value:"III"},{code:"IV",value:"IV"},{code:"N/A",value:"N/A"}],this.cache.nameSuffixes=e),[2,m(e)]}catch(e){return[2,[]]}return[2]}))}))},e.prototype.getPecosUsers=function(){return d(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(e=this.cache.pecosUsers)?[3,2]:[4,this.api("/pecosUser")];case 1:t=n.sent(),(e=t._embedded.pecosUserDTOList).sort(oe("cmsUserId")),this.cache.pecosUsers=e,n.label=2;case 2:return[2,m(e)];case 3:return n.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.getSpecialties=function(){return d(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),(e=this.cache.specialties)?[3,2]:[4,this.api("/referenceData/specialties")];case 1:t=n.sent(),(e=t._embedded.pecosReferenceDataDTOList).sort(oe("codeDescription")),this.cache.specialties=e,n.label=2;case 2:return[2,m(e)];case 3:return n.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.getSpecialtiesByFormType=function(e,t){return void 0===t&&(t="NA"),d(this,void 0,void 0,(function(){var n,r,i;return f(this,(function(o){switch(o.label){case 0:n="specialties-"+e+"-"+t,o.label=1;case 1:return o.trys.push([1,4,,5]),(r=this.cache[n])?[3,3]:[4,this.api("/specialtyRef/"+e+"/"+t)];case 2:i=o.sent(),(r=i._embedded.specialtyReferenceDTOList).sort(oe("specialtyReferenceDesc")),this.cache[n]=r,o.label=3;case 3:return[2,m(r)];case 4:return o.sent(),[2,[]];case 5:return[2]}}))}))},e.prototype.getSpecialtiesWithFormType=function(){return d(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(r){switch(r.label){case 0:e="specialties-with-form-type",r.label=1;case 1:return r.trys.push([1,4,,5]),(t=this.cache[e])?[3,3]:[4,this.api("/referenceByType/specialties")];case 2:n=r.sent(),(t=n._embedded.specialtyReferenceDTOList).sort(oe("specialtyReferenceDesc")),this.cache[e]=t,r.label=3;case 3:return[2,m(t)];case 4:return r.sent(),[2,[]];case 5:return[2]}}))}))},e.prototype.getStates=function(){return this.getByType("State Code")},e.prototype.getVehicleTypes=function(){return this.getByType("Vehicle Type")},e.prototype.getDispositionReasons=function(e){return d(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.cache.dispositionReasons||(this.cache.dispositionReasons=[]),(t=this.cache.dispositionReasons[e])?[3,2]:[4,this.api("/disposition-reason/"+e)];case 1:n=r.sent(),(t=n).sort(oe("conceptReasonSubtype")),this.cache.dispositionReasons[e]=t,r.label=2;case 2:return[2,m(t)];case 3:return r.sent(),[2,[]];case 4:return[2]}}))}))},e.prototype.fetchRfiCorrespondenceSection=function(e){return d(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:t="rfi"+e,i.label=1;case 1:return i.trys.push([1,4,,5]),this.cache[t]||(this.cache[t]=[]),0!==(n=this.cache[t]).length?[3,3]:[4,this.dataService.api("/content/rfiCorrespondenceSections/"+e).toPromise()];case 2:r=i.sent(),this.cache[t]=r,n=r,i.label=3;case 3:return[2,n];case 4:return i.sent(),[2,[]];case 5:return[2]}}))}))},e}();ae.ɵfac=function(e){return new(e||ae)(t.ɵɵinject(y))},ae.ɵprov=t.ɵɵdefineInjectable({token:ae,factory:ae.ɵfac,providedIn:"root"});var se=function(){function e(){}return e.prototype.getItem=function(e,t){var n=sessionStorage.getItem(e);return null!==n?JSON.parse(n):t},e.prototype.setItem=function(e,t){var n=JSON.stringify(t);sessionStorage.setItem(e,n)},e.prototype.removeItem=function(e){sessionStorage.removeItem(e)},e}();se.ɵfac=function(e){return new(e||se)},se.ɵprov=t.ɵɵdefineInjectable({token:se,factory:se.ɵfac,providedIn:"root"});var ce={},ue=[s.CommonModule,c.FormsModule,r.HttpClientModule,c.ReactiveFormsModule,b],le=function(){};le.ɵmod=t.ɵɵdefineNgModule({type:le}),le.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||le)},imports:[ue,s.CommonModule,c.FormsModule,r.HttpClientModule,c.ReactiveFormsModule,b]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(le,{declarations:[q,J,$,Q,W,Z,Y,ee,ne,re,V,B],imports:[s.CommonModule,c.FormsModule,r.HttpClientModule,c.ReactiveFormsModule,b],exports:[s.CommonModule,c.FormsModule,r.HttpClientModule,c.ReactiveFormsModule,b,q,J,$,Q,W,Z,Y,ee,ne,re,V,B]}),e.AddressPipe=q,e.AnnouncerService=ie,e.AuthGuard=_,e.AuthModule=b,e.AuthService=g,e.DATE_FORMAT=z,e.DataService=y,e.DateFormatPipe=J,e.EmptyDashPipe=$,e.FilterPipe=Q,e.FullNamePipe=W,e.HighlightKeywordPipe=Z,e.PecosUiComponent=B,e.PecosUiCoreModule=le,e.PhoneNumberPipe=Y,e.ReferenceDataService=ae,e.StorageService=se,e.TimeFormatPipe=ee,e.TinPipe=ne,e.TitleCaseExtendedPipe=re,e.UID=function(e){return void 0===e&&(e="uid"),ce[e]||(ce[e]=0),e+"-"+ ++ce[e]},e.YEAR_DATE_FORMAT=K,e.ZipCodePipe=V,e.generateUUID=v,e.hasValue=X,e.isUTCTimeZone=G,e.sortByKey=oe,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pecos-pecos-ui-core.umd.min.js.map